name: cliferay
help: > 
  Daily scripts to work with Liferay


  The scripts can be run from any folder:
    - If the folder is outside the repo it will use LIFERAY_HOME.
    - If the folder is inside the repo it will use that repo. 
    
  For example every day I open my terminal and type:
  
    > cliferay morning
  
  and it will just work no matter which folder I am in.
version: 1.0.0

environment_variables:
  - name: LIFERAY_HOME
    help: Location of your main liferay-portal clone
    required: true

dependencies:
  gh:
    command: [gh]
    help: install it from https://cli.github.com

commands:

- name: sync
  help: Sync fork and local copy with upstream
  group: Git
- name: brian
  help: Sync fork and local copy with upstream
  group: Git
  args:
  - name: pr
    help: Link to the GitHub PR.
    required: true

- name: build
  help: Run ant all
  group: Build
- name: ij
  help: Run liferay-intellij
  group: Build
- name: gw
  help: Run gradlew
  catch_all: true
  group: Build

- name: changed-modules
  alias: cm
  help: List changed modules
  group: Module
- name: super-deploy
  alias: sd
  help: Deploy changed modules
  group: Module
- name: format-source
  alias: sf
  help: Run SF globally
  group: Module

- name: run
  help: Start the server
  group: Server
- name: kill
  help: Kill the server
  group: Server
- name: nuke
  help: Delete all persisted data
  group: Server
- name: tomcat-folder
  help: Print the current tomcat folder
  group: Server

- name: morning
  help: Sync, build, ij and run
- name: folder
  help: Print the source folder
- name: completions
  help: Print completions script